// DFS í’€ì´
function solution1(graph) {
  const direction = [
    [-1, 1],
    [0, 1],
    [1, 1],
    [1, 0],
    [1, -1],
    [0, -1],
    [-1, -1],
    [-1, 0],
  ];
  let count = 0;

  const dfs = (x, y) => {
    for (const [dx, dy] of direction) {
      if (graph[x + dx]?.[y + dy] === 1) {
        graph[x + dx][y + dy] = 0;
        dfs(x + dx, y + dy);
      }
    }
  };

  for (let i = 0; i < graph.length; i++) {
    for (let j = 0; j < graph[0].length; j++) {
      if (graph[i][j] === 1) {
        dfs(i, j);
        count++;
      }
    }
  }

  console.log(count);
}

// solution1([
//   [1, 1, 0, 0, 0, 1, 0],
//   [0, 1, 1, 0, 1, 1, 0],
//   [0, 1, 0, 0, 0, 0, 0],
//   [0, 0, 0, 1, 0, 1, 1],
//   [1, 1, 0, 1, 1, 0, 0],
//   [1, 0, 0, 0, 1, 0, 0],
//   [1, 0, 1, 0, 1, 0, 0],
// ]);

/*
âœ… ë‚˜ì˜ ì‹¤ìˆ˜
dfsí•¨ìˆ˜ë¥¼ ê¸°ì¡´ì²˜ëŸ¼ ëŒë‹¤ë³´ë©´ ê²°êµ­ 1ê°œì˜ ì„¬ì—ì„œ ëë‚˜ê²Œ ëœë‹¤. 

  graph[x + dx][y + dy] = 0;
  dfs(x + dx, y + dy);
  graph[x + dx][y + dy] = 1;

ìš”ëŸ°ì‹ìœ¼ë¡œ ì ‘ê·¼í•˜ë©´,,,
ê·¸ë¦¬ê³  ìž¬ê·€ì—ì„œ ì¢…ë£Œì¡°ê±´ì´ ë”±ížˆ í•„ìš”ì—†ëŠ”ê²Œ,
0ìœ¼ë¡œ ë°”ë€Œê²Œ ë˜ë©´ ê²°êµ­ ì¡°ê±´(0ì¸ ê²½ìš°ë§Œ ìˆœíšŒí•˜ë„ë¡í•˜ëŠ” ì¡°ê±´)ì—ì„œ ê±¸ë ¤ì„œ ë©ˆì¶”ê²Œ ëœë‹¤.
ì¦‰, DFSì˜ ì‹œìž‘ì ì„ ìˆœíšŒí•˜ëŠ” ì½”ë“œê°€ í•„ìš”í•˜ë‹¤. ì–´ëŠ í¬ì¸íŠ¸ì—ì„œ ì„¬ì´ ì‹œìž‘í• ì§€ ëª¨ë¥´ê¸°ë•Œë¬¸ì—!
(ì¦‰, dfs(0,0) ìœ¼ë¡œ ì‹œìž‘ì ì„ ì°ê³  dfs() í•¨ìˆ˜ë¥¼ ëŒë©´ 1ê°œì˜ ì„¬ë§Œ íƒìƒ‰í•  ìˆ˜ ë°–ì— ì—†ìŒ)

ê·¸ëž˜ì„œ 2ì¤‘forë¬¸ìœ¼ë¡œ ìˆœíšŒë¥¼ í•  ìˆ˜ ë°–ì— ì—†ë‹¤... ðŸ˜“ 
*/

// BFS í’€ì´
function solution2(graph) {
  const direction = [
    [-1, 1],
    [0, 1],
    [1, 1],
    [1, 0],
    [1, -1],
    [0, -1],
    [-1, -1],
    [-1, 0],
  ];
  const queue = [];
  let count = 0;

  const bfs = (x, y) => {
    queue.push([x, y]);
    graph[x][y] = 0;

    while (queue.length !== 0) {
      const [sx, sy] = queue.shift();
      for (const [dx, dy] of direction) {
        if (graph[sx + dx]?.[sy + dy] === 1) {
          queue.push([sx + dx, sy + dy]);
          graph[sx + dx][sy + dy] = 0;
        }
      }
    }
    count++;
  };

  for (let i = 0; i < graph.length; i++) {
    for (let j = 0; j < graph[0].length; j++) {
      if (graph[i][j] === 1) {
        bfs(i, j);
      }
    }
  }

  console.log(count);
}

// solution2([
//   [1, 1, 0, 0, 0, 1, 0],
//   [0, 1, 1, 0, 1, 1, 0],
//   [0, 1, 0, 0, 0, 0, 0],
//   [0, 0, 0, 1, 0, 1, 1],
//   [1, 1, 0, 1, 1, 0, 0],
//   [1, 0, 0, 0, 1, 0, 0],
//   [1, 0, 1, 0, 1, 0, 0],
// ]);

// DFSë„ BFSì™€ ì „ë°˜ì ì¸ ì½”ë“œ êµ¬ì¡°ëŠ” ë¹„ìŠ·í•˜ë‹¤. ë‹¨ì§€, íë¥¼ ì‚¬ìš©í•˜ê³ , íƒìƒ‰í•˜ëŠ” ìˆœì„œê°€ ë‹¤ë¥´ë‹¤ëŠ” ì !

//----

// ì˜¤ë¥˜ í’€ì´!!
// ì²˜ìŒ ë“¤ì–´ê°€ëŠ” ì¢Œí‘œê°€ 0ìœ¼ë¡œ ë°”ë€Œì§€ ëª»í•´ì„œ ë” ë§Žì´ ìž¬ê·€ë¥¼ ëŒê²Œë¨!
function review1(n, graph) {
  const direction = [
    [-1, 0],
    [-1, 1],
    [0, 1],
    [1, 1],
    [1, 0],
    [1, -1],
    [0, -1],
    [-1, -1],
  ];
  let count = 0;

  const dfs = (x, y) => {
    if (graph[x]?.[y] === 0) return;

    for (const [dx, dy] of direction) {
      const nx = x + dx;
      const ny = y + dy;
      if (graph[nx]?.[ny] === 1) {
        graph[nx][ny] = 0;
        dfs(nx, ny);
      }
    }
  };

  for (let i = 0; i < n; i++) {
    for (let j = 0; j < n; j++) {
      if (graph[i][j] === 1) {
        count++;
        dfs(i, j);
      }
    }
  }

  console.log(count, graph); // graphê°€ ëª¨ë‘ 0ìœ¼ë¡œ ë°”ë€Œì–´ì•¼í•˜ëŠ”ë° ë¡œê·¸ë¥¼ ë³´ë©´ ê·¸ë ‡ì§€ ëª»í•¨!
  return count;
}

review1(7, [
  [1, 1, 0, 0, 0, 1, 0],
  [0, 1, 1, 0, 1, 1, 0],
  [0, 1, 0, 0, 0, 0, 0],
  [0, 0, 0, 1, 0, 1, 1],
  [1, 1, 0, 1, 1, 0, 0],
  [1, 0, 0, 0, 1, 0, 0],
  [1, 0, 1, 0, 1, 0, 0],
]); // 5

// review1 ì˜¤ë¥˜ ìˆ˜ì •
function review2(n, graph) {
  const direction = [
    [-1, 0],
    [-1, 1],
    [0, 1],
    [1, 1],
    [1, 0],
    [1, -1],
    [0, -1],
    [-1, -1],
  ];
  let count = 0;

  // ì‹œìž‘ì  ì´ˆê¸°í™”ë¥¼ ì–´ë–»ê²Œ ì²˜ë¦¬ í•´ì•¼í• ê¹Œ?
  // dfs í•¨ìˆ˜ì—ì„œ 0ì¸ ì¢Œí‘œë¥¼ ê³¨ë¼ë‚´ëŠ” ì¡°ê±´ë¬¸ì´ ì¡´ìž¬! ì²«ë²ˆì§¸ë¡œ ë“¤ì–´ê°€ëŠ” ì¢Œí‘œì˜ ê²½ìš° í•´ë‹¹ ì¢Œí‘œë¥¼ 0,0ìœ¼ë¡œ ë³€ê²½ì„ ëª»ì‹œí‚´.
  // ê·¸ëŸ°ë°, forë¬¸ì„ ëŒë•Œ ì´ë¯¸ 0ì´ ì•„ë‹Œ ì¢Œí‘œë§Œ ìž¬ê·€ë¥¼ ê±¸ê³  ìžˆê¸° ë•Œë¬¸ì— êµ³ì´ ì´ˆê¸° ì¡°ê±´(0ì¸ ì¢Œí‘œ)ì´ í•„ìš”ê°€ ì—†ìŒ.

  const dfs = (x, y) => {
    for (const [dx, dy] of direction) {
      const nx = x + dx;
      const ny = y + dy;

      if (graph[nx]?.[ny] === 1) {
        graph[nx][ny] = 0;
        dfs(nx, ny);
      }
    }
  };

  for (let i = 0; i < n; i++) {
    for (let j = 0; j < n; j++) {
      if (graph[i][j] === 1) {
        count++;
        graph[i][j] = 0;
        dfs(i, j);
      }
    }
  }

  console.log(count);
  return count;
}

review2(7, [
  [1, 1, 0, 0, 0, 1, 0],
  [0, 1, 1, 0, 1, 1, 0],
  [0, 1, 0, 0, 0, 0, 0],
  [0, 0, 0, 1, 0, 1, 1],
  [1, 1, 0, 1, 1, 0, 0],
  [1, 0, 0, 0, 1, 0, 0],
  [1, 0, 1, 0, 1, 0, 0],
]); // 5
