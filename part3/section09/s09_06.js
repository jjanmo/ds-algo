// DFS í’€ì´
function solution1(graph) {
  const direction = [
    [-1, 1],
    [0, 1],
    [1, 1],
    [1, 0],
    [1, -1],
    [0, -1],
    [-1, -1],
    [-1, 0],
  ];
  let count = 0;

  const dfs = (x, y) => {
    for (const [dx, dy] of direction) {
      if (graph[x + dx]?.[y + dy] === 1) {
        graph[x + dx][y + dy] = 0;
        dfs(x + dx, y + dy);
      }
    }
  };

  for (let i = 0; i < graph.length; i++) {
    for (let j = 0; j < graph[0].length; j++) {
      if (graph[i][j] === 1) {
        dfs(i, j);
        count++;
      }
    }
  }

  console.log(count);
}

solution1([
  [1, 1, 0, 0, 0, 1, 0],
  [0, 1, 1, 0, 1, 1, 0],
  [0, 1, 0, 0, 0, 0, 0],
  [0, 0, 0, 1, 0, 1, 1],
  [1, 1, 0, 1, 1, 0, 0],
  [1, 0, 0, 0, 1, 0, 0],
  [1, 0, 1, 0, 1, 0, 0],
]);

/*
âœ… ë‚˜ì˜ ì‹¤ìˆ˜
dfsí•¨ìˆ˜ë¥¼ ê¸°ì¡´ì²˜ëŸ¼ ëŒë‹¤ë³´ë©´ ê²°êµ­ 1ê°œì˜ ì„¬ì—ì„œ ëë‚˜ê²Œ ëœë‹¤. 

  graph[x + dx][y + dy] = 0;
  dfs(x + dx, y + dy);
  graph[x + dx][y + dy] = 1;

ìš”ëŸ°ì‹ìœ¼ë¡œ ì ‘ê·¼í•˜ë©´,,,
ê·¸ë¦¬ê³  ìž¬ê·€ì—ì„œ ì¢…ë£Œì¡°ê±´ì´ ë”±ížˆ í•„ìš”ì—†ëŠ”ê²Œ,
0ìœ¼ë¡œ ë°”ë€Œê²Œ ë˜ë©´ ê²°êµ­ ì¡°ê±´(0ì¸ ê²½ìš°ë§Œ ìˆœíšŒí•˜ë„ë¡í•˜ëŠ” ì¡°ê±´)ì—ì„œ ê±¸ë ¤ì„œ ë©ˆì¶”ê²Œ ëœë‹¤.
ì¦‰, DFSì˜ ì‹œìž‘ì ì„ ìˆœíšŒí•˜ëŠ” ì½”ë“œê°€ í•„ìš”í•˜ë‹¤. ì–´ëŠ í¬ì¸íŠ¸ì—ì„œ ì„¬ì´ ì‹œìž‘í• ì§€ ëª¨ë¥´ê¸°ë•Œë¬¸ì—!
(ì¦‰, dfs(0,0) ìœ¼ë¡œ ì‹œìž‘ì ì„ ì°ê³  dfs() í•¨ìˆ˜ë¥¼ ëŒë©´ 1ê°œì˜ ì„¬ë§Œ íƒìƒ‰í•  ìˆ˜ ë°–ì— ì—†ìŒ)

ê·¸ëž˜ì„œ 2ì¤‘forë¬¸ìœ¼ë¡œ ìˆœíšŒë¥¼ í•  ìˆ˜ ë°–ì— ì—†ë‹¤... ðŸ˜“ 
*/

// BFS í’€ì´
function solution2(graph) {
  const direction = [
    [-1, 1],
    [0, 1],
    [1, 1],
    [1, 0],
    [1, -1],
    [0, -1],
    [-1, -1],
    [-1, 0],
  ];
  const queue = [];
  let count = 0;

  const bfs = (x, y) => {
    queue.push([x, y]);
    graph[x][y] = 0;

    while (queue.length !== 0) {
      const [sx, sy] = queue.shift();
      for (const [dx, dy] of direction) {
        if (graph[sx + dx]?.[sy + dy] === 1) {
          queue.push([sx + dx, sy + dy]);
          graph[sx + dx][sy + dy] = 0;
        }
      }
    }
    count++;
  };

  for (let i = 0; i < graph.length; i++) {
    for (let j = 0; j < graph[0].length; j++) {
      if (graph[i][j] === 1) {
        bfs(i, j);
      }
    }
  }

  console.log(count);
}

solution2([
  [1, 1, 0, 0, 0, 1, 0],
  [0, 1, 1, 0, 1, 1, 0],
  [0, 1, 0, 0, 0, 0, 0],
  [0, 0, 0, 1, 0, 1, 1],
  [1, 1, 0, 1, 1, 0, 0],
  [1, 0, 0, 0, 1, 0, 0],
  [1, 0, 1, 0, 1, 0, 0],
]);

// DFSë„ BFSì™€ ì „ë°˜ì ì¸ ì½”ë“œ êµ¬ì¡°ëŠ” ë¹„ìŠ·í•˜ë‹¤. ë‹¨ì§€, íë¥¼ ì‚¬ìš©í•˜ê³ , íƒìƒ‰í•˜ëŠ” ìˆœì„œê°€ ë‹¤ë¥´ë‹¤ëŠ” ì !
