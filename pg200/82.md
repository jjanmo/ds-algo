# ìˆœìœ„ê²€ìƒ‰

> ì–¸ì œë‚˜ ì‹œê°„ì´ˆê³¼

ì´ ë¬¸ì œëŠ” ë…¸ê³¨ì ìœ¼ë¡œ `ì •í™•ì„±ê³¼ íš¨ìœ¨ì„± í…ŒìŠ¤íŠ¸`ë¥¼ ëª¨ë‘ ì‹¤í–‰í•œë‹¤ê³  ì í˜€ìˆì—ˆë‹¤.

ì •í™•ì„±ë§Œì„ ìœ„í•œ ì½”ë“œì— ëŒ€í•œ ë¡œì§ì€ ê·¸ë‹¤ì§€ ì–´ë µì§€ ì•Šì•˜ë‹¤. ê°ê°ì˜ ì •ë³´ë¥¼ íŒŒì‹±(?)í•˜ì—¬ ìœ ì € ì •ë³´ë¡œ ë‹´ì€ ë’¤ì— ì¿¼ë¦¬ì— ë”°ë¼ì„œ í•´ë‹¹ ì •ë³´ë¥¼ í•„í„°í•˜ë©´ ë˜ëŠ” ë¡œì§ì´ë‹¤.
ì„¤ëª…ì—ì„œì²˜ëŸ¼ ì¿¼ë¦¬ë“¤ì„ ìˆœíšŒí•˜ë©´ì„œ ê° ì¿¼ë¦¬ ì¡°ê±´ì— í•´ë‹¹í•˜ëŠ” ìœ ì € ì •ë³´ë¥¼ í•„í„°ë§í•´ì•¼í•˜ê¸°ë•Œë¬¸ì— ìì—°ìŠ¤ëŸ½ê²Œ ì´ì¤‘forë¬¸ìœ¼ë¡œ ì¸í•œ ì‹œê°„ì´ˆê³¼ê°€ ë°œìƒí•œë‹¤.

ê·¸ë˜ì„œ ê° ì¡°ê±´ì— ë”°ë¥¸ ë¶„ë¥˜ëœ ìœ ì € ì •ë³´ë¥¼ ë¯¸ë¦¬ ë§Œë“¤ì–´ì„œ í•´ë‹¹ ì¡°ê±´ì— ë‹´ê¸´ ìœ ì € ì •ë³´ë“¤ë¡œë§Œ í•„í„°ë§ í•˜ë©´ ë˜ê² ë‹¤ë¼ê³  ìƒê°í–ˆë‹¤. í•˜ì§€ë§Œ ì—¬ê¸°ì„œ ë¬¸ì œëŠ” ì¡°ê±´ ì¤‘ì— ëª¨ë‘ë¥¼ í¬í•¨í•˜ëŠ” '-' í‘œì‹œê°€ ìˆì—ˆë‹¤.

```
lang : cpp | java | python  â†’ ì–¸ì–´
pos : backend | frontend â†’ í¬ì§€ì…˜
career : junior | senior â†’ ê²½ë ¥
food : chicken | pizza  â†’ ì†Œìš¸í‘¸ë“œ
```

> `3 * 2 * 2 * 2` = 24ê°€ì§€

ì´ëŸ°ì‹ìœ¼ë¡œë§Œ í‚¤ê°’ì„ ë‚˜ëˆ„ë©´ 24ê°€ì§€ì˜ í‚¤ê°’ì„ ê°€ì§„ ìœ ì € ì •ë³´ë¡œ ë¶„ë¥˜í•˜ë©´ ë˜ê² ë‹¤ê³  ìƒê°í–ˆì§€ë§Œ ì‹¤ì œë¡œëŠ” `-`, ëª¨ë‘ í¬í•¨ì´ë¼ëŠ” ì¡°ê±´ë„ ì¶”ê°€í•´ì¤˜ì•¼í–ˆë‹¤.

```
lang : cpp | java | python | -
pos : backend | frontend | -
career : junior | senior | -
food : chicken | pizza | -
```

> `4 * 3 * 3 * 3` = 108ê°€ì§€

> `-` ë¥¼ ì¶”ê°€í•˜ëŠ” ë¶€ë¶„ì—ì„œ ì‚¬ì‹¤ ì¡°ê¸ˆ ë§ì„¤ì„ì´ ìˆì—ˆë‹¤. ê³¼ì—° ì´ë ‡ê²Œ í•˜ëŠ” ê²ƒì´ ë§ì„ê¹Œì— ëŒ€í•´ì„œ ë§ì´ë‹¤. ë­”ê°€ `ë…¸ê°€ë‹¤` ê°™ì€ ëŠë‚Œì´ë„ê¹Œ. ë‹¤ë¥¸ íŒíŠ¸ë“¤ì„ ë³´ë‹¤ê°€ ë‚˜ì˜ ìƒê°ì— í™•ì‹ ì´ ë“¤ì–´ì„œ ì´ëŸ° ì ‘ê·¼ë²•ìœ¼ë¡œ í’€ì´ë¥¼ ì¬êµ¬í˜„í•˜ì˜€ë‹¤.

ê²°ê³¼ì ìœ¼ë¡œ 108ê°€ì§€ì˜ í‚¤ê°’ì„ ê°€ì§„ ìœ ì € ì •ë³´ë¡œ ë¶„ë¥˜ë¥¼ í•´ì•¼í–ˆë‹¤. ì‚¬ì‹¤ 108ê°€ì§€ëŠ” ê·¸ë ‡ê²Œ ë§ì€ ë¶„ë¥˜ê°€ ì•„ë‹ˆê¸°ì— ì´ì •ë„ë©´ êµ¬í˜„í• ë²•í•˜ê¸°ë„ í–ˆë‹¤. ì–´ë–»ê²Œ ì´ê²ƒì„ êµ¬í˜„í• ì§€ì— ëŒ€í•œ ë¡œì§ì´ ì¤‘ìš”í–ˆë‹¤. 108ê°€ì§€ì´ê¸° ë•Œë¬¸ì— forë¬¸ì˜ ì—°ì†ìœ¼ë¡œ í•´ë„ ì „í˜€ ë¬¸ì œê°€ ë˜ì§€ì•ŠëŠ”ë‹¤ê³  ìƒê°í–ˆë‹¤.

ì´ëŸ°ì‹ìœ¼ë¡œ ë³€ê²½ í›„ì— filterë©”ì†Œë“œë¥¼ ì´ìš©í•˜ì—¬ ë§ˆì§€ë§‰ ê°œìˆ˜ë¥¼ êµ¬í–ˆë‹¤. ê·¸ëŸ°ë°, ì´ë ‡ê²Œ í•´ë„ ì‹œê°„ì´ˆê³¼ëŠ” ì—¬ì „í•˜ì˜€ë‹¤. ë¬¸ì œëŠ” ë°”ë¡œ ë§ˆì§€ë§‰ì˜ filterì˜€ë‹¤. íŒíŠ¸ë¥¼ ì°¾ì•„ë³´ë‹ˆ ì´ ë¶€ë¶„ì— ëŒ€í•œ ë¬¸ì œëŠ” `ì´ë¶„íƒìƒ‰ë²•(ì´ì§„íƒìƒ‰)`ì„ í†µí•´ì„œ í•´ê²°í•´ì•¼í•œë‹¤ëŠ” ê²ƒì„ ì•Œê²Œë˜ì—ˆë‹¤. ìˆ˜ê°€ ì»¤ì§„ë‹¤ë©´ filterë³´ë‹¤ëŠ” ì´ì§„íƒìƒ‰ì„ í†µí•´ì„œ ê±°ë¥´ëŠ” ë°©ë²•ì´ í›¨ì”¬ íš¨ìœ¨ì ì´ë‹¤ë¼ëŠ” ê²ƒì€ ì´ë²ˆì— ê²½í—˜ì ìœ¼ë¡œ ì•Œê²Œë˜ì—ˆë‹¤.

ì²˜ìŒì—” ì–´ë–»ê²Œë“  í•´ì‰¬ ìë£Œêµ¬ì¡°(O(1))ë¡œ ë³€í˜•ì‹œí‚¤ê¸° ìœ„í•´ì„œ ë…¸ë ¥í•´ë´¤ì§€ë§Œ ë”ì´ìƒì˜ íš¨ìœ¨ì„ ë†’ì´ì§€ ëª»í–ˆë‹¤. ìœ„ì—ì„œ ì–¸ê¸‰í•œëŒ€ë¡œ íŒíŠ¸ë¥¼ í†µí•´ì„œ ì´ì§„íƒìƒ‰ì´ë¼ëŠ” íŒíŠ¸ë¥¼ ì–»ì—ˆê³  ê²°êµ­ í•´ê²°í•˜ì˜€ë‹¤. ì‹œê°„ì´ˆê³¼ê°€ í•´ê²°ë˜ì§€ì•ŠëŠ”ë‹¤ë©´, ì´ì œ ì´ì§„íƒìƒ‰ë„ íš¨ìœ¨ì„ ë†’ì´ê¸° ìœ„í•œ í•œê°€ì§€ ë°©ë²•ì´ë¼ëŠ” ê²ƒì„ ê¸°ì–µí•˜ì.

ì œì¶œ í›„ì— ë‹¤ë¥¸ ì‚¬ëŒë“¤ í’€ì´ë¥¼ ë³´ì•˜ë‹¤. ì´ ë¬¸ì œ ìì²´ê°€ ê·¸ë ‡ê²Œ ê³ ìš´(?) í’€ì´ë¡œ í’€ë¦¬ëŠ” ë¬¸ì œê°€ ì•„ë‹Œê°€ë³´ë‹¤. ë‹¤ë“¤ ì½”ë“œê°€ ê¸¸ê³  ê¹”ë”í•˜ë‹¤ëŠ” ëŠë‚Œì€ ëª»ë°›ì•˜ë‹¤. í•˜ì§€ë§Œ ì „ì²´ì ì¸ ë¡œì§ìì²´ëŠ” ìœ ì‚¬í•˜ì˜€ë‹¤. ì–´ë–»ê²Œë“  O(1)ë¡œ ìœ ì € ì •ë³´ì— ì ‘ê·¼í•˜ì—¬ í•„í„°ë§í•˜ë ¤ëŠ” ë¡œì§ë§ì´ë‹¤.

ì˜¤ëŠ˜ë„ í•˜ë‚˜ë¥¼ ë°°ìš´ë‹¤. ğŸ™ğŸ»

> ìµœì¢… ë¬¸ì œ í’€ì´

```js
function solution(info, query) {
  const langType = ['cpp', 'java', 'python', '-'];
  const posType = ['backend', 'frontend', '-'];
  const careerType = ['junior', 'senior', '-'];
  const foodType = ['chicken', 'pizza', '-'];
  const users = {};

  // users ì´ˆê¸°í™”
  for (let lang of langType) {
    for (let pos of posType) {
      for (let career of careerType) {
        for (let food of foodType) {
          users[`${lang}-${pos}-${career}-${food}`] = [];
        }
      }
    }
  }

  // users ì •ë³´ ì±„ìš°ê¸°
  info.forEach((str) => {
    const [lang, pos, career, food, score] = str.split(' ');
    for (let l of [lang, '-']) {
      for (let p of [pos, '-']) {
        for (let c of [career, '-']) {
          for (let f of [food, '-']) {
            users[`${l}-${p}-${c}-${f}`].push(Number(score));
          }
        }
      }
    }
  });

  // ì´ì§„íƒìƒ‰ì„ ìœ„í•œ ì •ë ¬
  for (let key in users) {
    users[key].sort((a, b) => a - b);
  }

  return query.map((q) => {
    const [lang, pos, career, food, score] = q
      .split(' ')
      .filter((w) => w !== 'and');

    const scores = users[`${lang}-${pos}-${career}-${food}`];

    // ì´ì§„íƒìƒ‰, if scores.filter(....) ì´ëŸ°ì‹ìœ¼ë¡œ í•˜ë©´ ì‹œê°„ì´ˆê³¼ë¥¼ í•´ê²°í•˜ì§€ ëª»í•¨!
    let left = 0,
      right = scores.length - 1;
    while (left <= right) {
      const mid = Math.floor((left + right) / 2);
      if (score > scores[mid]) {
        left = mid + 1;
      } else {
        right = mid - 1;
      }
    }
    return scores.length - left;
  });
}
```
